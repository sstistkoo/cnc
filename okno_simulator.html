<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CNC Simul√°tor</title>
    <link rel="stylesheet" href="css/simulator.css">
</head>
<body>
    <div id="canvas-container">
        <canvas id="grid-canvas"></canvas>
        <div class="controls">
            <button id="zoom-in" title="P≈ôibl√≠≈æit">+</button>
            <button id="zoom-out" title="Odd√°lit">‚àí</button>
            <button id="reset" title="Reset zobrazen√≠">‚Ü∫</button>
        </div>
        <div class="coordinates" id="coord-display">X: 0, Z: 0</div>
        <div class="cross-marker" id="cross-marker"></div>
    </div>

    <div class="playback-controls" id="playback-controls">
        <button id="step-backward" title="Krok vzad">‚èÆ</button>
        <button id="play-pause" title="P≈ôehr√°t/Pozastavit">‚ñ∂</button>
        <button id="step-forward" title="Krok vp≈ôed">‚è≠</button>
        <button id="stop" title="Stop">‚èπ</button>
        <div class="speed-controls">
            <button id="speed-down" title="Sn√≠≈æit rychlost">‚àí</button>
            <span class="playback-speed" id="speed-display">1√ó</span>
            <button id="speed-up" title="Zv√Ω≈°it rychlost">+</button>
            <button id="speed-reset" title="Resetovat rychlost">‚Ü∫</button>
        </div>
        <button id="controls-toggle" title="Zobrazit/skr√Ωt ovl√°d√°n√≠">üëÅÔ∏è</button>
        <button id="panel-toggle" title="Otev≈ô√≠t/zav≈ô√≠t panel">‚ò∞</button>
    </div>

    <div class="sliding-panel" id="sliding-panel">
        <div class="panel-handle" id="panel-handle"></div>
        <div class="panel-content">
            <h2>Informaƒçn√≠ Panel</h2>
            <p>Zde m≈Ø≈æete p≈ôidat libovoln√Ω obsah...</p>
        </div>
    </div>

    <!-- Zjednodu≈°en√≠ naƒç√≠t√°n√≠ modul≈Ø -->
    <script type="module">
        // Poƒçkat na naƒç√≠t√°n√≠ DOM
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('DOM loaded');

            try {
                const { initializeGrid } = await import('./js/grid-renderer.js');
                console.log('Grid module loaded');

                const { setupPlaybackControls } = await import('./js/playback-controls.js');
                console.log('Playback controls module loaded');

                const { setupPanel } = await import('./js/panel-manager.js');
                console.log('Panel module loaded');

                // Inicializace
                console.log('Initializing components...');
                initializeGrid();
                setupPlaybackControls();
                setupPanel();
                console.log('Initialization complete');
            } catch (error) {
                console.error('Error during initialization:', error);
            }
        });
    </script>
</body>
</html>
